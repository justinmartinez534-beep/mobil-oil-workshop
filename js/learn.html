<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å­¦ä¹  - ç¾å­šæœºæ²¹çŸ¥è¯†å·¥åŠ</title>
  <link rel="stylesheet" href="css/minimal.css">
</head>
<body>
  <header class="header">
    <div class="header-content container">
      <div class="logo">ç¾å­šæœºæ²¹<span>çŸ¥è¯†å·¥åŠ</span></div>
      <nav class="nav">
        <a href="index.html">é¦–é¡µ</a>
        <a href="learn.html" class="active">å­¦ä¹ </a>
        <a href="flashcard.html">é—ªå¡</a>
        <a href="roots.html">ç´¢å¼•</a>
        <a href="progress.html">è¿›åº¦</a>
      </nav>
    </div>
  </header>
  <main class="section">
    <div class="container">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>ğŸ“š æ¸è¿›å­¦ä¹ </h1>
        <div>
          <span id="current-index">1</span> / <span id="total-count">5</span>
        </div>
      </div>
      <div class="progress-bar" style="margin-bottom: 2rem;">
        <div id="progress-fill" class="progress-fill" style="width: 20%;"></div>
      </div>
      <div id="learn-card" class="card" style="min-height: 400px; padding: 2rem;">
        <div style="margin-bottom: 1rem;">
          <span class="tag" id="item-origin">å…¨åˆæˆæœºæ²¹</span>
        </div>
        <h2 id="item-root">ç¾å­š1å· (Mobil 1)</h2>
        <p style="font-size: 1.125rem; color: var(--color-text); margin-bottom: 2rem;" id="item-meaning">
          ç¾å­šæ——èˆ°å…¨åˆæˆæœºæ²¹ï¼Œé‡‡ç”¨å…ˆè¿›åˆæˆæŠ€æœ¯ï¼Œæä¾›å“è¶Šä¿æŠ¤
        </p>
        <div style="background: var(--color-bg); padding: 1.5rem; border-radius: var(--radius-md); margin-bottom: 2rem;">
          <h4 style="margin-bottom: 1rem;">ğŸ“– è¯¦ç»†è¯´æ˜</h4>
          <p id="item-description">ç¾å­š1å·æ˜¯ç¾å­šçŸ³æ²¹å…¬å¸çš„æ——èˆ°äº§å“ç³»åˆ—...</p>
        </div>
        <h4 style="margin-bottom: 1rem;">ğŸ’¡ åº”ç”¨ç¤ºä¾‹</h4>
        <div id="item-examples" style="display: grid; gap: 1rem;"></div>
      </div>
      <div style="display: flex; justify-content: space-between; margin-top: 2rem;">
        <button class="btn btn-secondary" onclick="prevItem()">â† ä¸Šä¸€ä¸ª</button>
        <button class="btn btn-primary" onclick="markMastered()">âœ“ å·²æŒæ¡</button>
        <button class="btn btn-primary" onclick="nextItem()">ä¸‹ä¸€ä¸ª â†’</button>
      </div>
    </div>
  </main>
  <script src="js/wordData.js"></script>
  <script src="js/storage.js"></script>
  <script>
    let currentIndex = 0;
    
    function loadItem() {
      if (!window.WordRoots || WordRoots.length === 0) {
        console.error('WordRoots æ•°æ®æœªåŠ è½½');
        document.getElementById('item-description').textContent = 'æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢';
        return;
      }
      
      const item = WordRoots[currentIndex];
      if (!item) {
        console.error('æ‰¾ä¸åˆ°çŸ¥è¯†ç‚¹:', currentIndex);
        return;
      }
      
      document.getElementById('current-index').textContent = currentIndex + 1;
      document.getElementById('total-count').textContent = WordRoots.length;
      document.getElementById('progress-fill').style.width = ((currentIndex + 1) / WordRoots.length * 100) + '%';
      document.getElementById('item-origin').textContent = item.origin || '';
      document.getElementById('item-root').textContent = item.root || '';
      document.getElementById('item-meaning').textContent = item.meaning || '';
      document.getElementById('item-description').textContent = item.description || '';
      
      const examplesDiv = document.getElementById('item-examples');
      if (item.examples && item.examples.length > 0) {
        function nextItem() {
  if (currentIndex < WordRoots.length - 1) {
    currentIndex++;
    loadItem();
  } else {
    alert('å·²ç»æ˜¯æœ€åä¸€ä¸ªçŸ¥è¯†ç‚¹äº†ï¼');
  }
}
function prevItem() {
  if (currentIndex > 0) {
    currentIndex--;
    loadItem();
  } else {
    alert('å·²ç»æ˜¯ç¬¬ä¸€ä¸ªçŸ¥è¯†ç‚¹äº†ï¼');
  }
}
function markMastered() {
  const item = WordRoots[currentIndex];
  if (typeof Storage !== 'undefined' && Storage.markMastered) {
    Storage.markMastered(item.id);
    alert('å·²æ ‡è®°ä¸ºæŒæ¡ï¼');
  } else {
    alert('å·²æŒæ¡ï¼ˆID: ' + item.id + 'ï¼‰');
  }
}
document.addEventListener('DOMContentLoaded', loadItem);
